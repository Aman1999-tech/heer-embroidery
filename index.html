<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Heer Embroidery - Handmade Products</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <style>
    .glass { background: rgba(255,255,255,.15); border:1px solid rgba(255,255,255,.3);
      backdrop-filter: blur(12px); border-radius:1rem; }
    .filter-btns-container { overflow-x:auto; white-space:nowrap; scrollbar-width:none; }
    .filter-btns-container::-webkit-scrollbar { display:none; }
  </style>
</head>

<body class="bg-gray-100 font-sans">

<!-- HEADER -->
<div id="header-include"></div>

<!-- FILTERS -->
<div class="p-4 flex gap-2 filter-btns-container"></div>

<!-- PRODUCTS -->
<main id="productGrid" class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 p-6"></main>

<!-- CART DRAWER -->
<div id="cartDrawer"
     class="fixed top-0 right-0 w-80 h-full glass transform translate-x-full transition p-4 flex flex-col z-50">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-bold">Your Cart</h2>
    <button class="closeCart">✖</button>
  </div>
  <div id="cartItems" class="flex-1 overflow-y-auto"></div>
  <div class="mt-4">
    <p>Total: <span id="cartTotal" class="font-bold">₹0</span></p>
    <button id="checkoutBtn" class="mt-2 w-full bg-green-600 text-white py-2 rounded">Checkout</button>
  </div>
</div>

<!-- WISHLIST DRAWER -->
<div id="wishlistDrawer"
     class="fixed top-0 left-0 w-80 h-full glass transform -translate-x-full transition p-4 flex flex-col z-50">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-bold">Your Wishlist</h2>
    <button class="closeWishlist">✖</button>
  </div>
  <div id="wishlistItems" class="flex-1 overflow-y-auto"></div>
</div>

<!-- CHECKOUT DRAWER -->
<div id="checkoutDrawer"
     class="fixed right-0 top-0 h-full w-96 bg-white shadow-lg transform translate-x-full transition z-50">
  <div class="p-4 flex justify-between items-center border-b bg-pink-600 text-white">
    <h2 class="font-bold text-lg">Checkout</h2>
    <button class="closeCheckout text-white">✕</button>
  </div>

  <form id="checkoutForm" class="p-4 space-y-3">
    <input id="custName" class="w-full border p-2 rounded" placeholder="Full Name" required>
    <input id="custEmail" class="w-full border p-2 rounded" placeholder="Email" required>
    <input id="custPhone" class="w-full border p-2 rounded" placeholder="Phone" required>
    <textarea id="custAddress" class="w-full border p-2 rounded" placeholder="Address" required></textarea>
    <button type="submit" class="bg-pink-600 text-white w-full py-2 rounded">Pay Now</button>
    <p id="checkoutMsg" class="text-center text-sm mt-2"></p>
  </form>
</div>

<!-- FOOTER -->
<div id="footer-include"></div>

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<!-- Inject header/footer then load scripts -->
<script>
(async function() {
  async function inject(id,file){
    document.getElementById(id).innerHTML = await fetch(file).then(r=>r.text());
  }
  await inject("header-include","./header.html");
  await inject("footer-include","./footer.html");

  let s1=document.createElement("script");
  s1.type="module"; s1.src="./header.js";
  document.body.appendChild(s1);

  let s2=document.createElement("script");
  s2.src="./footer.js"; document.body.appendChild(s2);

  document.dispatchEvent(new CustomEvent("partials:loaded"));
})();
</script>

<script src="./app.js"></script>

</body>
</html>
